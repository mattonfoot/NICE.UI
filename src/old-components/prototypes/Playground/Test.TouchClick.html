<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
  <meta content="IE=edge,chrome=1" name="X-UA-Compatible" />
  <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport" />

	<title>NICE Bootstrap</title>
</head>

<body class="layout-fill layout-offcanvas-fixed" id="swipeBox" ontouchstart="touchStart(event,'swipeBox');"  ontouchend="touchEnd(event);" ontouchmove="touchMove(event);" ontouchcancel="touchCancel(event);">
<div style="background:rgba(0,0,0,.3);position:fixed;top:0;right:0;">
		<div>original: <input name="originalX" size="3" />x<input name="originalY" size="3" /></div>
		<div>client: <input name="clientX" size="3" />x<input name="clientY" size="3" /></div>
		<div>page: <input name="pageX" size="3" />x<input name="pageY" size="3" /></div>
		<div>screen: <input name="screenX" size="3" />x<input name="screenY" size="3" /></div>
</div>

<div class="layout-wrapper">
		<div class="layout layout-first-right">
				<div class="content content-primary">
					<h1>Off Canvas Test</h1>

					<p class="lead">The off canvas pattern will be available to browsers with a browser width less than 980px.
						Wider browsers will dislpay the off canvas as a secondary content column located on the left of the main content.</p>

					<h2>1. Primary Content</h2>

					<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec at leo vitae sapien ornare porta eu sed nunc. In dictum ornare blandit. Donec sodales tellus ornare est rutrum, non varius lectus pellentesque. Proin condimentum est purus, ac congue dui tristique non. Sed ut metus lectus. Donec gravida, nisi et convallis eleifend, erat orci ornare felis, id dapibus dolor diam at mi. Ut ac molestie nisi. Curabitur hendrerit eget lorem vel ullamcorper. Maecenas eleifend arcu vitae lacinia posuere. Nullam imperdiet augue nulla, quis aliquet arcu viverra a.</p>
					<p>Nunc cursus arcu nec placerat pulvinar. Morbi nec urna lobortis, pellentesque ante feugiat, malesuada urna. Mauris sodales purus non dui sagittis, ut vestibulum urna dictum. Fusce quis mauris ut risus venenatis vestibulum ac a sapien. Sed cursus lorem a ornare interdum. Maecenas scelerisque sapien in metus laoreet, sed mollis turpis pellentesque. Fusce ut viverra neque. Donec ac nulla mi.</p>
					<p>Pellentesque erat metus, bibendum eu volutpat vel, scelerisque viverra nunc. Cras eleifend felis at nulla tristique, a volutpat justo luctus. Donec vel urna quis nibh commodo aliquam. Mauris id risus tempus, dignissim elit vel, tincidunt turpis. Mauris vehicula augue ac orci ultrices lobortis. Ut risus sem, fringilla vel iaculis ut, ultricies ac nibh. Sed venenatis sit amet enim id lacinia. Quisque cursus, ligula vel accumsan dignissim, tellus risus condimentum elit, sit amet congue est nulla imperdiet velit. Morbi at quam sed sem condimentum imperdiet non nec magna. In elit orci, condimentum sit amet malesuada sit amet, accumsan at dui. Aliquam urna purus, dignissim ut bibendum ac, tristique non est. Cras mattis nisi vel massa porttitor dictum. Duis ac iaculis velit, commodo rutrum odio. Donec et auctor lectus. Quisque suscipit nisi et dolor sagittis, ut vulputate neque congue. Vestibulum scelerisque nulla sit amet ultricies dictum.</p>
					<p>Maecenas consequat orci in volutpat pretium. Nunc nisi leo, luctus volutpat nulla nec, vehicula blandit odio. Praesent congue leo a est placerat, laoreet volutpat urna pellentesque. Nunc in sapien mi. Nullam eu vehicula dolor. Integer sollicitudin lectus et est malesuada hendrerit. Integer sit amet purus elementum, vulputate orci ut, convallis odio. Morbi aliquam, nunc ac imperdiet lobortis, urna eros tempor eros, quis rhoncus dui libero at orci. In adipiscing, metus et tincidunt elementum, dui lectus elementum tortor, eu bibendum neque mauris a ante. Nullam tincidunt arcu sagittis massa rhoncus, sit amet euismod nisl elementum. Nam lacinia dictum erat id pharetra. Nullam rutrum tempus elit non semper.</p>
					<p>Morbi ante lorem, sollicitudin tempor pretium vel, scelerisque in ante. Aliquam lacinia elit lacus. Nam feugiat, magna non rhoncus condimentum, ante lacus varius ligula, in dignissim nulla dui in lectus. Phasellus velit felis, elementum eu arcu sed, tempor vulputate enim. Praesent vitae arcu tristique magna sodales luctus sed hendrerit risus. In sodales dui at nisl vehicula, in porta lectus fermentum. Suspendisse rutrum neque justo, non rhoncus neque commodo in. Maecenas aliquam, odio at ultricies auctor, libero orci interdum purus, sit amet iaculis dolor magna at lorem. Quisque semper, erat malesuada lacinia interdum, odio dui vulputate augue, at consequat nunc orci ac lorem. Nam pharetra tincidunt tellus, vel iaculis augue feugiat in. Cras mattis orci a sem dignissim, et semper nisi placerat.</p>
				</div>

				<div class="content content-secondary">
					<div class="content-inner">
						<h2>2. Secondary Content</h2>

						<ul class="breadcrumb breadcrumb-stack in collapse" id="stacked-nav">
								<li><a href="#">Home</a> <span class="divider"></span></li>
								<li><a href="#">Section</a> <span class="divider"></span></li>
								<li class="active"><a href="#">Parent</a>
									<a href="#stacked-nav" class="toggle icon-caret-down" data-toggle="stack"></a>
								</li>
						</ul>

						<ul class="nav nav-list">
								<li class="active"><a href="#">Overview</a></li>
								<li><a href="#">Recommendations</a></li>
								<li><a href="#">Resources</a>
										<ul class="nav nav-list">
												<li><a href="#">Costing</a></li>
												<li><a href="#">Local Practice</a></li>
										</ul>
								</li>
								<li><a href="#" class=" ">History</a>
										<ul class="nav nav-list">
												<li class="active"><a href="#">Timeline</a></li>
												<li><a href="#">Documents</a></li>
										</ul>
								</li>
						</ul>

					</div>
				</div>
		</div>
</div>


		<script type="text/javascript">
			// TOUCH-EVENTS SINGLE-FINGER SWIPE-SENSING JAVASCRIPT
			// Courtesy of PADILICIOUS.COM and MACOSXAUTOMATION.COM

			// this script can be used with one or more page elements to perform actions based on them being swiped with a single finger

			var triggerElementID = null; // this variable is used to identity the triggering element
			var fingerCount = 0;
			var startX = 0;
			var startY = 0;
			var curX = 0;
			var curY = 0;
			var deltaX = 0;
			var deltaY = 0;
			var horzDiff = 0;
			var vertDiff = 0;
			var minLength = 72; // the shortest distance the user may swipe
			var swipeLength = 0;
			var swipeAngle = null;
			var swipeDirection = null;

			// The 4 Touch Event Handlers

			// NOTE: the touchStart handler should also receive the ID of the triggering element
			// make sure its ID is passed in the event call placed in the element declaration, like:
			// <div id="picture-frame" ontouchstart="touchStart(event,'picture-frame');"  ontouchend="touchEnd(event);" ontouchmove="touchMove(event);" ontouchcancel="touchCancel(event);">

			function touchStart(event,passedName) {
				// disable the standard ability to select the touched object
				event.preventDefault();
				// get the total number of fingers touching the screen
				fingerCount = event.touches.length;
				// since we're looking for a swipe (single finger) and not a gesture (multiple fingers),
				// check that only one finger was used
				if ( fingerCount == 1 ) {
					// get the coordinates of the touch
					startX = event.touches[0].pageX;
					startY = event.touches[0].pageY;
					// store the triggering element ID
					triggerElementID = passedName;
				} else {
					// more than one finger touched so cancel
					touchCancel(event);
				}
			}

			function touchMove(event) {
				event.preventDefault();
				if ( event.touches.length == 1 ) {
					curX = event.touches[0].pageX;
					curY = event.touches[0].pageY;
				} else {
					touchCancel(event);
				}
			}

			function touchEnd(event) {
				event.preventDefault();
				// check to see if more than one finger was used and that there is an ending coordinate
				if ( fingerCount == 1 && curX != 0 ) {
					// use the Distance Formula to determine the length of the swipe
					swipeLength = Math.round(Math.sqrt(Math.pow(curX - startX,2) + Math.pow(curY - startY,2)));
					// if the user swiped more than the minimum length, perform the appropriate action
					if ( swipeLength >= minLength ) {
						caluculateAngle();
						determineSwipeDirection();
						processingRoutine();
						touchCancel(event); // reset the variables
					} else {
						touchCancel(event);
					}
				} else {
					touchCancel(event);
				}
			}

			function touchCancel(event) {
				// reset the variables back to default values
				fingerCount = 0;
				startX = 0;
				startY = 0;
				curX = 0;
				curY = 0;
				deltaX = 0;
				deltaY = 0;
				horzDiff = 0;
				vertDiff = 0;
				swipeLength = 0;
				swipeAngle = null;
				swipeDirection = null;
				triggerElementID = null;
			}

			function caluculateAngle() {
				var X = startX-curX;
				var Y = curY-startY;
				var Z = Math.round(Math.sqrt(Math.pow(X,2)+Math.pow(Y,2))); //the distance - rounded - in pixels
				var r = Math.atan2(Y,X); //angle in radians (Cartesian system)
				swipeAngle = Math.round(r*180/Math.PI); //angle in degrees
				if ( swipeAngle < 0 ) { swipeAngle =  360 - Math.abs(swipeAngle); }
			}

			function determineSwipeDirection() {
				if ( (swipeAngle <= 45) && (swipeAngle >= 0) ) {
					swipeDirection = 'left';
				} else if ( (swipeAngle <= 360) && (swipeAngle >= 315) ) {
					swipeDirection = 'left';
				} else if ( (swipeAngle >= 135) && (swipeAngle <= 225) ) {
					swipeDirection = 'right';
				} else if ( (swipeAngle > 45) && (swipeAngle < 135) ) {
					swipeDirection = 'down';
				} else {
					swipeDirection = 'up';
				}
			}

			function processingRoutine() {
				var swipedElement = document.getElementById(triggerElementID);
				if ( swipeDirection == 'left' ) {
					// REPLACE WITH YOUR ROUTINES
					swipedElement.style.backgroundColor = 'orange';
				} else if ( swipeDirection == 'right' ) {
					// REPLACE WITH YOUR ROUTINES
					swipedElement.style.backgroundColor = 'green';
				} else if ( swipeDirection == 'up' ) {
					// REPLACE WITH YOUR ROUTINES
					swipedElement.style.backgroundColor = 'maroon';
				} else if ( swipeDirection == 'down' ) {
					// REPLACE WITH YOUR ROUTINES
					swipedElement.style.backgroundColor = 'purple';
				}
			}

		</script>
</body>
</html>
