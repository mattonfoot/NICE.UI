<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>User data</title>

  <meta name="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="NICE - The National Institute of Health and Care Excellence">
  
  <link rel="canonical" href="design-patterns/user-data.html">
  
  <!--[if lt IE 9]>
  <script src="/NICE.UI/scripts/vendor/html5shiv.js"></script>
  <![endif]-->
  
  <!-- Le styles -->
  <link rel="stylesheet" href="/NICE.UI/styles/ui.css">
  
  <!-- Fav and touch icons -->
  <link rel="shortcut icon" href="//cdn.nice.org.uk/V3/Content/nice/favicon.ico">
  <link rel="apple-touch-icon-precomposed" href="//cdn.nice.org.uk/V3/Content/nice/favicon-152.png">
  <meta name="msapplication-TileColor" content="#fafafb">
  <meta name="msapplication-TileImage" content="//cdn.nice.org.uk/V3/Content/nice/favicon-144.png">
  
  <!-- docs specific styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css" />
  <style>
  .container, .layout {
    width: 95.74468085%;
    max-width: 1170px;
    margin: 0 auto;
  }
  
  .guide-example {
    position: relative;
    padding: 45px 15px 15px;
    margin: 0;
    background-color: #fff;
    border-color: #ddd;
    border-style: solid;
    border-width: 1px;
  }
  
  .guide-example-tight > * {
    margin-top: 0;
    margin-bottom: 0;
  }
  
  .guide-example:after {
    position: absolute;
    top: 15px;
    left: 15px;
    font-size: 12px;
    font-weight: 700;
    color: #959595;
    text-transform: uppercase;
    letter-spacing: 1px;
    content: "Example";
  
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
  }
  
  .guide-example + pre.prettyprint {
    margin-top: 0;
    border-top-width: 0;
  }
  pre.prettyprint {
    background: white;
  }
  .prettyprint ol.linenums {
    margin: 0;
    padding-left: 48px;
    padding-left: 4.8em;
  }
  li.L0, li.L1, li.L2, li.L3,
  li.L5, li.L6, li.L7, li.L8
  { list-style-type: decimal !important }
  
  code {
    border: 1px solid rgba(0,0,255,.05);
    padding: 0 .2em;
    background: rgba(0,0,255,.01);
  }
  pre code {
    border: 0;
    padding: 0;
    background: none;
  }
  
  .guide-example .row {
    font-size: 1.1rem;
    line-height: 2.4rem;
    background: #f6f6f6;
    margin: 1.2rem 0;
    background-image:   linear-gradient(
                          90deg,
                          transparent 24.75%,
                          rgba(0, 0, 255, .1) 24.75%,
                          rgba(0, 0, 255, .1) 25.25%,
                          transparent 25.25%,
                          transparent 49.65%,
                          rgba(0, 0, 255, .2) 49.65%,
                          rgba(0, 0, 255, .2) 50.3%,
                          transparent 50.3%,
                          transparent 74.75%,
                          rgba(0, 0, 255, .1) 74.75%,
                          rgba(0, 0, 255, .1) 75.25%,
                          transparent 75.25%,
                          transparent 99.5%,
                          rgba(0, 0, 255, .2) 99%
                        );
    background-size: 33.39% 10px;
    background-position: 50% 50%;
  }
  .guide-example .row > * {
    border-radius: .3rem;
    color: #666;
    font-weight: bold;
    text-align: center;
  }
  .guide-example .row > :nth-of-type(1n) {
    background-color:rgba(  0,110,147,.4);
  }
  .guide-example .row > :nth-of-type(2n) {
    background-color:rgba(  0,110,147,.3);
  }
  .guide-example .row > :nth-of-type(3n) {
    background-color:rgba(  0,110,147,.2);
  }
  .guide-example .row > :nth-of-type(4n) {
    background-color:rgba(  0,110,147,.1);
  }
  
  
  .glyph-grid {
    zoom: 1;
  }
  .glyph-grid:before,
  .glyph-grid:after {
    content: "";
    display: table;
  }
  .glyph-grid:after {
    clear: both;
  }
  
  .glyph {
    float: left;
    text-align: center;
    background: #f7f7f7;
    padding: .75em;
    margin: .75em 1.5em .75em 0;
    width: 7.5em;
  }
  .glyph input {
    font-size: .8em;
    text-align: center;
  }
  .fs1 {
    font-family: 'NICE Glyphs';
    font-size: 2em;
    line-height: 2em;
    font-style: normal;
  }
  .box1 {
    display: inline-block;
    width: 15em;
    padding: .25em .5em;
    background: #f7f7f7;
    margin: .5em 1em .5em 0;
  }
  
  .glyph .glyph-stack {
    color: #fff;
  }
  .glyph .glyph-stack .glyph-stack-base {
    color: #111;
  }
  </style>
</head>

<body>
  <header class="nice-tophat" role="banner">
    <div class="nice-global" id="nice-global">
      <div class="tophat-inner">
        <ul class="menu" role="navigation">
          <li>
            <a href="../index.html">the NICE UI library</a>
          </li>
          <li>
            <a href="../basic-elements.html">Basic elements</a>
          </li>
          <li>
            <a href="../design-patterns.html">Design patterns</a>
          </li>
          <li>
            <a href="../going-further.html">Going further</a>
          </li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Page Header
  ================================================== -->
  <header class="page-header">
    <div class="container">
      <ol class="breadcrumb">
        <li>
          <a href="/NICE.UI/">Home</a> <i class="divider glyph-chevron-right"></i>
        </li>
        <li>
          <a href="../design-patterns.html">
            Design patterns
          </a>
          <i class="divider glyph-chevron-right"></i>
        </li>
        <li class="active">
          User data
        </li>
      </ol>

      <h1>User data</h1>

      <p class="lead">There is a balance to be found gathering and storing information for a user to enhance their experience</p>
    </div>
  </header>

  <main class="layout layout-first-right" role="main">
    <article class="content content-primary">
      <p>Because we use third party tracking and analysis tools to help understand what needs our users have, we have to explain to our visitors that they will be tracked anonymously through the use of cookies.</p>
<p><a href="http://www.nice.org.uk/cookies">You can read the full E-Privacy policy here</a>.</p>
<div class="notice notice-important">
<p><strong>Important</strong> Please ensure that your service conforms to the NICE E-Privacy policy and notify the appropriate department if it does not.</p>
</div>

<h2 id="data-storage">Data Storage</h2>
<p>The <a href="http://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:31995L0046&amp;from=en">e-Privacy Directive</a> was updated in 2012 but still requires that website inform users in an obvious way that data is being stored regarding their online activity within a website - <a href="https://ico.org.uk/for-organisations/guide-to-pecr/cookies/">See the ICO for a summary of this directive</a>. THis extends beyond cookies to the information that we store on our server or in local storage regarding a users activity.</p>
<p>Items exempt from this directive are items of data regarding personal user settings, or a users authenticated status. It is acceptable to presume that a user that creates an account to access further, enriched or customised content is happy to allow data tracking within the current website.</p>
<h2 id="standard-storage-keys">Standard storage keys</h2>
<p>If you are creating a new service or updating an existing service please refer to the following table for standard storage keys for specific types of information.</p>
<table>
  <thead>
    <tr>
      <th>key</th><th>type</th>
      <th>usage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><var>seen_cookie_message</var></td><td>String</td>
      <td>Indicates whether a user has had the The e-Privacy banner displayed to them on the active service. It is set to the the value <samp>&#39;yes&#39;</samp> if they have.</td>
    </tr>
    <tr>
      <td><var>ASP.NET_SessionId</var></td><td>String</td>
      <td>General purpose platform session key, used by sites written with Miscrosoft .NET based technologies. Usually used to maintain an anonymised user session by the server. <a href="http://cookiepedia.co.uk/cookies/ASP.NET_SessionId">For more infomation see cookiepedia</a></td>
    </tr>
    <tr>
      <td><var>uid</var></td><td>String</td>
      <td>General purpose userid key, used to identify a known user so the service can be tailored to their needs or usage patterns. Usually used to maintain an known user session by the server.</td>
    </tr>
    <tr>
      <td><var>__nrpa_2.2</var></td><td>String</td>
      <td>A session identifier, used by the operational service to authenticate the user against NICE Accounts to assertain acces rights and policies for an individual.</td>
    </tr>
    <tr>
      <td><var>ud</var></td><td>JSON</td>
      <td>General purpose storage key used to keep data for this session. Used for storing user interface settings that need to persist thorough the users active session. The user data plugin provided by the NICE UI library uses this key.</td>
    </tr>
    <tr>
      <td><var>Orchrd</var></td><td>JSON</td>
      <td>Orchards default session storage bucket available to all Orchard CMS Modules. Used for storing user interface settings that need to persist thorough the users active session.</td>
    </tr>
  </tbody>
</table>

<p>If you need to store different information than has been identified here then you will also need to ensure that your use case is covered by the existing e-Privacy directive and cookie policy.</p>
<h2 id="cookies-vs-local-storage">Cookies vs Local Storage</h2>
<p>Best practice should be to use client side data storage only for user interface settings
or session specific data that does not affect the way the server renders a page. Any
user or session data that the web server needs to adjust the page content should be
stored by that server and not in the client browser or device.</p>
<p><strong>Cookie data</strong> should only be used to provide unique identifiers of a client to the server
in a request such as <code>uid</code>. Web services must not pass serialized data
objects between client and server using cookies as this increases the size of future
requests to this domain.</p>
<p><strong>Local storage</strong> should be the method of choice for storing user interface settings. If
not available on the current device then cookie data can be used.</p>


      <section id="disqus_thread"></section>
    </article>

    <aside class="content content-secondary">
      <nav>
        <ul>
          <li class="active">
            <a href="">User data</a>
            <ul>
              <li>
                <a href="user-data/eprivacy-directive.html">E-Privacy directive</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </aside>
  </main>

  <footer class="footer-wrapper" role="contentinfo">
    <div class="navbar">
      <div class="container">
        <ul class="nav example-tldr" role="navigation">
          <li>
            <a href="../index.html">the NICE UI library</a>
          </li>
          <li>
            <a href="../basic-elements.html">Basic elements</a>
          </li>
          <li>
            <a href="../design-patterns.html">Design patterns</a>
          </li>
          <li>
            <a href="../going-further.html">Going further</a>
          </li>
        </ul>
      </div>
    </div>
  
    <div class="footer">
      <div class="container">
        <a href="http://www.nice.org.uk" class="footer-logo"><span class="glyph-logo"></span></a>
    
        <ul class="nav nav-services" role="navigation">
          <li><a href="http://pathways.nice.org.uk"><span class="glyph-pathways"></span> NICE Pathways</a></li>
          <li><a href="http://www.nice.org.uk/guidance"><span class="glyph-guidance"></span> Guidance</a></li>
          <li><a href="http://www.nice.org.uk/standards-and-indicators"><span class="glyph-standards"></span> Standards &amp;&nbsp;indicators</a></li>
          <li><a href="http://www.evidence.nhs.uk"><span class="glyph-evidence"></span> Evidence services</a></li>
        </ul>
      </div>
    
      <div class="container">
        <div class="social-panel">
          <!-- AddThis Button BEGIN -->
          <p class="social-follow addthis_toolbox">
          Follow Us
          <a class="addthis_button_twitter_follow" addthis:userid="nicecomms" target="_blank" title="Follow on Twitter" href="#">
            <span class="glyph-twitter"></span>
          </a></p>
          <!-- AddThis Button END -->
        </div>
    
        <ul class="nav nav-legal" role="navigation">
          <li><a href="//www.nice.org.uk/about">About</a></li>
          <li><a href="//www.nice.org.uk/accessibility">Accessibility</a></li>
          <li><a href="//www.nice.org.uk/freedom-of-information">Freedom of information</a></li>
          <li><a href="//www.nice.org.uk/get-involved/contact-us">Contact Us</a></li>
          <li><a href="//www.nice.org.uk/glossary">Glossary</a></li>
          <li><a href="//www.nice.org.uk/terms-and-conditions">Terms and conditions</a></li>
          <li><a href="//www.nice.org.uk/subscribe">Subscribe</a></li>
        </ul>
    
        <p class="legal-copyright">Copyright &copy; 2014 National Institute for Health and Care Excellence. All rights reserved.</p>
      </div>
    </div>
  </footer>
  
  <script src="//cdn.nice.org.uk/V3/Scripts/nice/NICE.TopHat.js" async></script>

  <!-- Le javascript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="/NICE.UI/scripts/vendor/jquery.js"></script>
  <script src="//cdn.nice.org.uk/V3/Scripts/twitter.bootstrap.js"></script>
  <script src="//cdn.nice.org.uk/V3/Scripts/NICE.bootstrap.js"></script>
  
  <script src="/NICE.UI/scripts/ui.cookie-policy.js"></script>

  <script>
    var disqus_identifier = '/design-patterns/user-data';
  </script>
  
  <script src="//niceuilibrary.disqus.com/embed.js" async></script>
</body>
</html>
